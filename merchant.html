<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merchant Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style-merchant.css">
        <!-- Add to merchant.html before </head> -->
    <link rel="stylesheet" href="translation-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="/asset/logo.jpeg" alt="">
                <div>
                    <div>Merchant Dashboard</div>
                    <div style="font-size: 14px; opacity: 0.9; font-weight: 400;">Manage your store with ease</div>
                </div>
            </div>
            <div class="merchant-info">
                <h2 id="merchantName">Loading...</h2>
                <p id="merchantStore">Store: Loading...</p>
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </header>

        <div id="loginPrompt" class="login-prompt" style="display: none;">
            <h2><i class="fas fa-lock"></i> Merchant Access Required</h2>
            <p>Please log in with your merchant account to access the dashboard and manage your products.</p>
            <button class="btn" id="goToLoginBtn">
                <i class="fas fa-sign-in-alt"></i> Go to Login
            </button>
        </div>

        <div id="dashboardContent" style="display: none;">
            <div class="tabs">
                <div class="tab active" data-tab="dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </div>
                <div class="tab" data-tab="products">
                    <i class="fas fa-box"></i> Products
                </div>
                <div class="tab" data-tab="orders">
                    <i class="fas fa-shopping-cart"></i> Orders
                </div>
                <div class="tab" data-tab="analytics">
                    <i class="fas fa-chart-line"></i> Analytics
                </div>
            </div>

            <!-- Dashboard Tab -->
            <div class="content active" id="dashboard">
                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                    <div class="actions-grid">
                        <div class="action-item" onclick="openAddProductModal()">
                            <i class="fas fa-plus-circle"></i>
                            <div>Add Product</div>
                        </div>
                        <div class="action-item" onclick="loadProducts()">
                            <i class="fas fa-sync-alt"></i>
                            <div>Refresh Products</div>
                        </div>
                        <div class="action-item" onclick="exportProducts()">
                            <i class="fas fa-download"></i>
                            <div>Export Data</div>
                        </div>
                        <div class="action-item" onclick="window.print()">
                            <i class="fas fa-print"></i>
                            <div>Print Report</div>
                        </div>
                    </div>
                </div>

                <!-- Statistics -->
                <div class="stats-grid" id="statsGrid">
                    <div class="loading">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading statistics...</p>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="quick-actions">
                    <h3><i class="fas fa-history"></i> Recent Activity</h3>
                    <div style="color: #666; padding: 20px; text-align: center;">
                        <i class="fas fa-clock" style="font-size: 48px; margin-bottom: 20px; opacity: 0.3;"></i>
                        <p>Activity log will appear here</p>
                    </div>
                </div>
            </div>

            <!-- Products Tab -->
            <div class="content" id="products">
                <div class="section-header">
                    <h2><i class="fas fa-box"></i> Product Management</h2>
                    <button class="btn" id="addProductBtn">
                        <i class="fas fa-plus"></i> Add New Product
                    </button>
                </div>

                <!-- Search and Filters -->
                <div class="search-bar">
                    <input type="text" class="search-input" id="productSearch" placeholder="Search products by name, category, or description...">
                </div>

                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">All Products</button>
                    <button class="filter-btn" data-filter="active">Active</button>
                    <button class="filter-btn" data-filter="inactive">Inactive</button>
                    <button class="filter-btn" data-filter="low_stock">Low Stock</button>
                    <button class="filter-btn" data-filter="out_of_stock">Out of Stock</button>
                </div>
                
                <div class="products-grid" id="productsGrid">
                    <div class="loading">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading products...</p>
                    </div>
                </div>
            </div>

            <!-- Orders Tab -->
<div class="content" id="orders">
    <div class="section-header">
        <h2><i class="fas fa-shopping-cart"></i> Order Management</h2>
        <div>
            <button class="btn btn-secondary" onclick="loadMerchantOrders()">
                <i class="fas fa-sync-alt"></i> Refresh Orders
            </button>
            <button class="btn" onclick="exportOrders()">
                <i class="fas fa-download"></i> Export Orders
            </button>
        </div>
    </div>

    <!-- Order Filters -->
    <div class="filter-buttons" style="margin-bottom: 20px;">
        <button class="filter-btn active" data-filter="all">All Orders</button>
        <button class="filter-btn" data-filter="pending">Pending</button>
        <button class="filter-btn" data-filter="processing">Processing</button>
        <button class="filter-btn" data-filter="shipped">Shipped</button>
        <button class="filter-btn" data-filter="delivered">Delivered</button>
        <button class="filter-btn" data-filter="cancelled">Cancelled</button>
    </div>

    <!-- Search Bar -->
    <div class="search-bar" style="margin-bottom: 20px;">
        <input type="text" class="search-input" id="orderSearch" placeholder="Search orders by customer name, email, or order ID...">
    </div>

    <div class="orders-table">
        <!-- Orders will be loaded dynamically here -->
        <div style="text-align: center; padding: 60px; color: #666;">
            <i class="fas fa-shopping-cart" style="font-size: 64px; margin-bottom: 20px; opacity: 0.3;"></i>
            <h3>No Orders Yet</h3>
            <p>Orders from customers will appear here</p>
            <div style="margin-top: 30px;">
                <button class="btn" onclick="loadMerchantOrders()">
                    <i class="fas fa-redo"></i> Load Orders
                </button>
            </div>
        </div>
    </div>
</div>

            <!-- Analytics Tab -->
            <div class="content" id="analytics">
                <div class="section-header">
                    <h2><i class="fas fa-chart-line"></i> Sales Analytics</h2>
                    <div>
                        <button class="btn btn-secondary">
                            <i class="fas fa-calendar-alt"></i> This Month
                        </button>
                        <button class="btn">
                            <i class="fas fa-download"></i> Export Report
                        </button>
                    </div>
                </div>

                <div style="background: white; border-radius: 15px; padding: 40px; text-align: center; box-shadow: 0 5px 20px rgba(0,0,0,0.08);">
                    <i class="fas fa-chart-bar" style="font-size: 64px; margin-bottom: 20px; color: #85BB65; opacity: 0.5;"></i>
                    <h3 style="color: #333; margin-bottom: 10px;">Analytics Coming Soon</h3>
                    <p style="color: #666; max-width: 400px; margin: 0 auto;">Detailed sales analytics and reports will be available in the next update.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">
                    <i class="fas fa-box"></i> Add New Product
                </h3>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <form id="productForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="name"><i class="fas fa-tag"></i> Product Name *</label>
                        <input type="text" id="name" class="form-control" required placeholder="Enter product name">
                    </div>
                    <div class="form-group">
                        <label for="category"><i class="fas fa-folder"></i> Category *</label>
                        <select id="category" class="form-control" required>
                            <option value="">Select Category</option>
                            <option value="Electronics">Electronics & Gadgets</option>
                            <option value="Clothing">Clothing & Fashion</option>
                            <option value="Footwear">Footwear & Shoes</option>
                            <option value="Home & Garden">Home & Garden</option>
                            <option value="Kitchen">Kitchen & Dining</option>
                            <option value="Furniture">Furniture & Decor</option>
                            <option value="Sports">Sports & Outdoors</option>
                            <option value="Books">Books & Stationery</option>
                            <option value="Health">Health & Beauty</option>
                            <option value="Toys">Toys & Games</option>
                            <option value="Automotive">Automotive Parts</option>
                            <option value="Jewelry">Jewelry & Accessories</option>
                            <option value="Food">Food & Beverages</option>
                            <option value="Pet">Pet Supplies</option>
                            <option value="Office">Office Supplies</option>
                            <option value="Tools">Tools & Hardware</option>
                            <option value="Baby">Baby & Kids</option>
                            <option value="Art">Art & Crafts</option>
                            <option value="Musical">Musical Instruments</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="description"><i class="fas fa-align-left"></i> Description</label>
                    <textarea id="description" class="form-control" rows="4" placeholder="Describe your product (features, specifications, etc.)"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="price"><i class="fas fa-dollar-sign"></i> Price ($) *</label>
                        <input type="number" id="price" class="form-control" step="0.01" min="0" required placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label for="stockQty"><i class="fas fa-cubes"></i> Stock Quantity *</label>
                        <input type="number" id="stockQty" class="form-control" min="0" required placeholder="Enter quantity">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="sku"><i class="fas fa-barcode"></i> SKU (Optional)</label>
                        <input type="text" id="sku" class="form-control" placeholder="Product SKU">
                    </div>
                    <div class="form-group">
                        <label for="brand"><i class="fas fa-trademark"></i> Brand (Optional)</label>
                        <input type="text" id="brand" class="form-control" placeholder="Brand name">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="productImage"><i class="fas fa-image"></i> Product Image *</label>
                        <div class="image-upload-container">
                            <div class="image-preview" id="imagePreview" style="display: none;">
                                <img id="previewImage" src="#" alt="Preview" style="max-width: 100%; max-height: 200px; border-radius: 8px;">
                                <button type="button" class="btn btn-danger" onclick="removeImage()" style="margin-top: 10px; padding: 8px 12px; font-size: 12px;">
                                    <i class="fas fa-trash"></i> Remove
                                </button>
                            </div>
                            <div class="upload-area" id="uploadArea">
                                <input type="file" id="productImage" class="form-control" accept="image/*" style="display: none;">
                                <div class="upload-placeholder" onclick="document.getElementById('productImage').click()">
                                    <i class="fas fa-cloud-upload-alt" style="font-size: 48px; color: #85BB65; margin-bottom: 15px;"></i>
                                    <p>Click to upload product image</p>
                                    <p style="font-size: 12px; color: #999; margin-top: 5px;">Max size: 500KB â€¢ JPG, PNG, WebP</p>
                                </div>
                            </div>
                            <div class="upload-progress" id="uploadProgress" style="display: none; margin-top: 15px;">
                                <div class="progress-bar" style="height: 8px; background: #e9ecef; border-radius: 4px; overflow: hidden;">
                                    <div id="progressFill" style="height: 100%; background: #85BB65; width: 0%; transition: width 0.3s;"></div>
                                </div>
                                <p id="progressText" style="font-size: 12px; color: #666; margin-top: 5px;">Uploading: 0%</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="status"><i class="fas fa-toggle-on"></i> Status *</label>
                        <select id="status" class="form-control" required>
                            <option value="active">Active (Available for Sale)</option>
                            <option value="inactive">Inactive (Hidden from Store)</option>
                            <option value="out_of_stock">Out of Stock</option>
                            <option value="draft">Draft</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="weight"><i class="fas fa-weight-hanging"></i> Weight (kg) (Optional)</label>
                        <input type="number" id="weight" class="form-control" step="0.1" min="0" placeholder="0.0">
                    </div>
                </div>
            </form>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelBtn">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button class="btn" id="saveBtn">
                    <i class="fas fa-save"></i> Save Product
                </button>
            </div>
        </div>
    </div>

    
        <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="script-merchant.js"></script>

    <div id="google_translate_element"></div>
    <script src="translation-script.js"></script>
    
</body>
</html>